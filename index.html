<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inbjudan till Max 7 års kalas</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#333333" />
    <meta name="apple-mobile-web-app-title" content="Max kalas!" />
    <meta name="application-name" content="Max kalas!" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-size: 16px;
        line-height: 2em;
        text-align: center;
        font-family: "Lora", serif;
        color: #333;
        background-image: radial-gradient(circle, #333333, #222222);
      }

      .container {
        max-width: 600px;
        margin: 0 auto 50px auto;
        overflow: hidden;
      }

      h1 {
        transform: skew(-12deg) rotate(-12deg);
        grid-area: text;
        font-family: "Pacifico", cursive;
        font-size: 20vw;
        line-height: 1.5em;
        margin: 0 0 30px 0;
        padding: 30px;
        color: #1d9099;
        text-shadow: 1vmin 1vmin 0 #e79c10, -1vmin -1vmin 0 #d53a33;
      }

      @media screen and (min-width: 600px) {
        h1 {
          font-size: 80px;
          text-shadow: 5px 5px 0 #e79c10, -5px -5px 0 #d53a33;
        }
      }

      .information {
        background-color: #fff;
        margin: 10px;
        margin-bottom: 50px;
      }

      .rot-1 {
        transform: rotate(-4deg);
      }

      .rot-1-1 {
        transform: rotate(1deg);
      }

      .rot-2 {
        transform: rotate(2deg);
      }

      .rot-2-2 {
        transform: rotate(-1deg);
      }

      .information-text {
        padding: 20px;
        font-size: 20px;
        text-align: left;
      }

      .image-show {
        position: relative;
        max-width: 450px;
        max-height: 450px;
        margin: 0 auto;
        margin-bottom: 50px;
        padding: 0 20px;
      }

      .image-text {
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        bottom: 8px;
        left: 40px;
        padding: 10px 0;
        width: 150px;
        margin: 0;
        transition: left 0.5s ease;
        border-radius: 9px;
        background-color: rgba(255, 255, 255, 0.7);
        font-size: 30px;
        font-weight: normal;
        font-family: "Pacifico", cursive;
      }

      @media screen and (min-width: 500px) {
        .image-text {
          font-size: 40px;
          width: 200px;
        }
      }

      .image-show-tag {
        margin: 0 auto;
        padding: 0;
        display: block;
      }

      .image-show-tag,
      .banner {
        width: calc(100% - 30px);
        border: 3px solid #fff;
      }

      .banner {
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        font-size: 60px;
        font-weight: normal;
        font-family: "Pacifico", cursive;
        color: #000;
      }

      .pnum {
        color: #333;
        text-decoration: underline dotted;
      }

      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Inbjudan till kalas!</h1>
      <div class="image-show">
        <div class="banner hidden">
          Max 7 år!
        </div>
        <div class="image-text">
          Max 0 år
        </div>
        <img class="image-show-tag" src="images/max-0.jpg" alt="Max 0 år" />
      </div>
      <div class="information rot-1">
        <div class="information-text rot-1-1">
          <h2>Välkommen till Max 7års-kalas!</h2>
          <p><strong>När?</strong> Söndagen den 31/5 kl. 13-15.</p>
          <p><strong>Var?</strong> Stenshögsvägen 8 i Hjärup.</p>
          <p>Vi bjuder på grillad korv och fika.</p>
          <p><strong>Vi kommer vara utomhus!</strong></p>
          <p>Tanken är att vi ska vara ute så klä er efter väder.</p>
          <p>
            Självklart finns huset att tillgå för toalettbesök & handtvätt etc.
          </p>
          <p><strong>Välkommen!</strong></p>
        </div>
      </div>
      <div class="information rot-2">
        <div class="information-text rot-2-2">
          <h3>OSA</h3>
          <p>
            OSA senast 27/5 om ni <strong>INTE</strong> kan komma, samt meddela
            eventuella allergier/matpreferenser till <br />
            Johanna,
            <a class="pnum" href="tel:+46730439750">0730-43 97 50</a> eller
            <br />Daniel,
            <a class="pnum" href="tel:+46709464817">0709-46 48 17</a>.
          </p>
        </div>
      </div>

      <div class="gmaps">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2250.2597472869215!2d13.139975416211737!3d55.66708318053052!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4653a2af8e6e95a3%3A0xbfb904215c5f790d!2zU3RlbnNow7Znc3bDpGdlbiA4LCAyNDUgNjIgSGrDpHJ1cA!5e0!3m2!1ssv!2sse!4v1589466368746!5m2!1ssv!2sse"
          width="500"
          height="500"
          frameborder="0"
          style="border: 0;"
          allowfullscreen=""
          aria-hidden="false"
          tabindex="0"
        ></iframe>
      </div>
    </div>
    <script>
      (() => {
        const sources = [
          "images/max-0.jpg",
          "images/max-1.jpg",
          "images/max-2.jpg",
          "images/max-3.jpg",
          "images/max-4.jpg",
          "images/max-5.jpg",
          "images/max-6.jpg",
        ];
        const imgTag = document.querySelector(".image-show-tag");
        const textBox = document.querySelector(".image-text");
        const banner = document.querySelector(".banner");

        let programIntervalId = null;

        startProgram();

        document.querySelector(".image-show").addEventListener("click", () => {
          console.log("programIntervalId", programIntervalId);
          if (programIntervalId) {
            stopProgram(programIntervalId);
            programIntervalId = null;
          } else {
            startProgram();
          }
        });

        function startProgram() {
          let imageIndex = 0;

          let bannerIntervalId;

          programIntervalId = setInterval(() => {
            if (imageIndex < 7) {
              showImage(imageIndex);
            }

            if (imageIndex === 7) {
              const currentImageHeight = imgTag.clientHeight;
              bannerIntervalId = showBanner(currentImageHeight);
              hideSlideShow();
            }

            if (imageIndex === 11) {
              imageIndex = 0;
              showImage(imageIndex);
              showSlideShow();
              setTimeout(() => {
                hideBanner(bannerIntervalId);
              });
            }

            imageIndex++;
          }, 1000);
        }

        function stopProgram(intervalId) {
          clearInterval(intervalId);
        }

        function hideSlideShow() {
          imgTag.classList.add("hidden");
          textBox.classList.add("hidden");
        }

        function showSlideShow() {
          imgTag.classList.remove("hidden");
          textBox.classList.remove("hidden");
        }

        function showImage(imageIndex) {
          imgTag.src = sources[imageIndex];
          textBox.innerHTML = `Max ${imageIndex} år`;
          textBox.style.left = 40 + imageIndex * 20 + "px";
        }

        function showBanner(bannerHeight) {
          if (bannerHeight > 0) {
            banner.style.height = bannerHeight + "px";
          }
          banner.classList.remove("hidden");
          const colors = ["#6e5773", "#d45079", "#ea9085", "#e9e1cc"];
          let colorIndex = 0;
          const intervalId = setInterval(() => {
            if (colorIndex === colors.length - 1) {
              colorIndex = 0;
            } else {
              colorIndex++;
            }
            banner.style.backgroundColor = colors[colorIndex];
            banner.style.borderColor = colors[3 - colorIndex];
          }, 200);
          return intervalId;
        }

        function hideBanner(intervalId) {
          clearInterval(intervalId);
          banner.classList.add("hidden");
        }
      })();
    </script>
  </body>
</html>
